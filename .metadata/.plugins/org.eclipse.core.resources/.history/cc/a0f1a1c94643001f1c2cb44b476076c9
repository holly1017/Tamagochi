package model;

import java.io.Serializable;

public abstract class Character implements Serializable {
    protected String name;
    protected int hunger;
    protected int cleanliness;
    protected int happiness;
    protected boolean alive;

    public Character(String name) {
        this.name = name;
        this.hunger = 100;
        this.cleanliness = 100;
        this.happiness = 100;
        this.alive = true;
    }

    public void passTime(int difficulty) {
        hunger -= 10 * difficulty;
        cleanliness -= 5 * difficulty;
        happiness -= 7 * difficulty;
        checkAlive();
    }

    public void feed() {
        hunger = Math.min(100, hunger + 20);
    }

    public void clean() {
        cleanliness = Math.min(100, cleanliness + 20);
    }

    public void walk() {
        happiness = Math.min(100, happiness + 20);
        cleanliness = Math.max(0, cleanliness - 10);
    }

    private void checkAlive() {
        if (hunger <= 0 || cleanliness <= 0 || happiness <= 0) {
            alive = false;
            System.out.println(name + " has died.");
        }
    }

    public boolean isAlive() {
        return alive;
    }

    public String getStatus() {
        return "Name: " + name + "\n" +
               "Hunger: " + hunger + " / 100\n" +
               "Cleanliness: " + cleanliness + " / 100\n" +
               "Happiness: " + happiness + " / 100\n";
    }
}
